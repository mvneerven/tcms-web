(function(W,D,undefined){'use strict';const _noop=function(){},_st=setTimeout,_isF=a=>"function"==typeof a;var _log=_noop;W.core=function(){var k=(a,b)=>new k.fn.init(a,b);return k.data=_noop,k.src={},k.debug="localhost"==D.location.hostname,k.debug&&(_log=(...a)=>{console.log(...a)}),k.prototype={_data:{},_do:function(a,b){b=b||{};var c=this,d=arguments;return null==b.index?(null==this.sel?this.sel=this._gN():null==this.sel.length&&(this.sel=this._gN(this.sel)),Array.prototype.forEach.call(this.sel,function(b){return Array.prototype.unshift.call(d,b),a.bind(b).apply(k,d)}),this):k(this.sel[b.index])},_gS:function(a,b,c,e,f){if(void 0!==e)return this._do(function(a){b(a,c,e)});var d;return this._do(function(b){d=a(b,c)}),d||f},_gN:function(){var a=D.createDocumentFragment().childNodes;return b=>null==b?Object.create(a,{length:{value:0},item:{value:function(a){return this[+a||0]},enumerable:!0}}):"[object NodeList]"==b.toString()?b:Object.create(a,{0:{value:b,enumerable:!0},length:{value:1},item:{value:function(a){return this[+a||0]},enumerable:!0}})}(),init:function(a,b){if(this.length=0,!a)return this;if(_isF(a))k.ready(a);else if(this.context=b,"object"==typeof a)this.sel=this._gN(a);else if(-1!==a.indexOf("<")){let b=new DOMParser,c=b.parseFromString(a,"text/html");this.sel=c.body.firstChild}else null!=b&&"[object NodeList]"==b.toString()&&(b=b[0]),this.sel=(b||D).querySelectorAll(a,b);this.sel&&this.sel.length&&(this.length=this.sel.length)},data:function(a,b){return this._gS(()=>this._data[a],()=>{this._data[a]=b},a,b,"")},html:function(a){return this._do(b=>{b.innerHTML=a})},text:function(a){return this._gS(a=>a.innerText,b=>{b.innerText=a,b.text=a},void 0,a,"")},attr:function(a,b){return this._gS(b=>b.getAttribute(a),c=>{c.setAttribute(a,b)},a,b,"")},prop:function(a,b){return this._gS(b=>b[a],c=>{c[a]=b})},val:function(a){return this._gS(a=>a.value,b=>{b.value=a},void 0,a,"")},removeAttr:function(a){return this._do(b=>{b.removeAttribute(a)})},addClass:function(a){return a=(a||"").trim().split(" "),this._do(b=>{for(var d in a)b.classList.add(a[d])})},removeClass:function(a){return this._do(b=>{b.classList.remove(a)})},hasClass:function(a){var b=!1;return this._do(c=>{b=c.classList.contains(a)}),b},remove:function(){return this._do(a=>{a.remove()})},show:function(){return this._do(a=>{a.style.display="block"})},hide:function(){return this._do(a=>{a.style.display="none"})},fadeIn:function(){return this.removeClass("c-hide").addClass("c-show")},fadeOut:function(){return this.removeClass("c-show").addClass("c-hide")},each:function(a){return this._do(a)},is:function(a){var b=!1;return this._do(c=>{c.matches(a)&&(b=!0)}),b},shown:function(){var a=!1;return this._do(b=>{(0<b.offsetWidth||0<b.offsetHeight)&&(a=!0)})},get:function(a){var b=this._do(_noop,{index:a});return b.sel[0]},scrollTo:function(){return this._do(a=>{a.scrollIntoView()})},trigger:function(a,b){return this._do(c=>{let d=new CustomEvent(a,{detail:b});c.dispatchEvent(d)})},on:function(a,b,c){return this._do(d=>{a.trim().split(" ").forEach(a=>{d.addEventListener(a,b,{once:null!=c&&c})})})},one:function(a,b){return this.on(a,b,!0)},block:function(a){void 0===a&&(a=!0);const b="disabled";return this._do(c=>{a?(c.classList.add(b),c.setAttribute(b,b)):(c.classList.remove(b),c.removeAttribute(b,b))})},tooltip:function(a){return this.attr("title",a)},select:function(a){return this.k(a)},find:function(a){var b;return this._do(c=>{b=c.querySelectorAll(a)}),k(b)},up:function(a,b){var c;return this._do(d=>{c=b?d.parentNode.closest(a):d.closest(a)}),k(c)},style:function(a){return a=a||{},this._do(b=>{for(var c in a)b.style=c+":"+a[c]})},toggleClass:function(a){return this._do(b=>{b.classList.toggle(a)})},getPlugin:function(a){return this.data("c-plugin-"+a)},put:function(a,b){var c=_noop;return b=b&&b.sel?b=b.sel[0]:k(b).sel[0],"after"===a?c=a=>{b.parentNode.insertBefore(a,b.nextSibling)}:"before"===a?c=a=>{b.parentNode.insertBefore(a,b)}:"append"===a?c=a=>{b.appendChild(a)}:"prepend"===a?c=a=>{b.insertBefore(a,b.firstChild)}:void 0,this._do(c)}},k.fn=k.prototype,k.extend=k.fn.extend=function(){var b,c,d,f,g,h,j=arguments[0]||{},p=1,q=arguments.length,u=!1;for("boolean"==typeof j&&(u=j,j=arguments[p]||{},p++),"object"==typeof j||m(j)||(j={}),p===q&&(j=this,p--);p<q;p++)if(null!=(b=arguments[p]))for(c in b)f=b[c],"__proto__"!==c&&j!==f&&(u&&f&&(k.isPlainObject(f)||(g=Array.isArray(f)))?(d=j[c],h=g&&!Array.isArray(d)?[]:g||k.isPlainObject(d)?d:{},g=!1,j[c]=k.extend(u,h,f)):void 0!==f&&(j[c]=f));return j},k.extend({c2d:function(a){return a.replace(/[A-Z]/g,a=>"-"+a.toLowerCase()).substr(1)},ready:function(a){"complete"===D.readyState||"interactive"===D.readyState?_st(a,1):D.addEventListener("DOMContentLoaded",a)},req:function(a){var b=k.extend({method:"GET",contentType:"application/json",dataType:"json",responseType:"text",timeout:null,headers:[],success:_noop},a),c=function(a){var c;if("text"!==b.responseType&&""!==b.responseType)return{data:a.response,xhr:a};try{c=JSON.parse(a.responseText)}catch(b){c=a.responseText}return{data:c,xhr:a}};b.data&&(b.method="POST");var d=new XMLHttpRequest,e=new Promise((a,e)=>{for(var f in d.onreadystatechange=function(){if(4===d.readyState&&d.status)if(200<=d.status&&300>d.status){var f=c(d);b.success(f),a(f)}else e({status:d.status,statusText:d.statusText,responseText:d.responseText})},d.open(b.method||"GET",b.url,!0),d.responseType=b.responseType,b.headers)b.headers.hasOwnProperty(f)&&d.setRequestHeader(f,b.headers[f]);b.timeout&&(d.timeout=b.timeout,d.ontimeout=function(){e({status:408,statusText:"Request timeout"})}),d.send(b.data)});return e.cancel=function(){d.abort()},e},uid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=0|16*Math.random(),c="x"==a?b:8|3&b;return c.toString(16)})},get:function(a,b){return this.req({method:"GET",contentType:"application/json",dataType:"json",url:a}).then(b)},log:function(...a){this._log(...a)},dlg:function(a){if(null==a)return void k(".c-dlg").remove();a=k.extend({modal:!0,body:"",title:"Dialog",cancelVisible:!1,confirmText:"OK",cancelText:"Cancel",confirm:_noop,cancel:_noop,hide:_noop,id:"dlg-"+k.uid()},a);var b=this("<div class=\"c-dlg\" role=\"dialog\">\n                     <div class=\"c-dlg-c\">\n                      <div class=\"c-dlg-h\">\n                       <div class=\"c-dlg-t\">{0}<button type=\"button\" class=\"dlg-bc dlg-x dismiss\" ><span>&times;</span></button></div>\n                      </div>\n                     <div class=\"c-dlg-b\">{1}</div>\n                     <div class=\"c-dlg-f\">\n                      <button type=\"button\" class=\"dlg-x btn btn-default dismiss\" >{2}</button>\n                      <button type=\"button\" class=\"dlg-x btn btn-primary confirm\" >{3}</button>\n                     </div>\n                     </div>\n                    </div>".replace("{0}",a.title).replace("{1}",a.body).replace("{2}",a.cancelText).replace("{3}",a.confirmText)).attr("id",a.id).addClass(a.cancelVisible?"dlg-cv":"dlg-ch");const d=function(c,d){k("#"+a.id).remove(),W.location.hash="na";var e=k(c.target);d||e.hasClass("confirm")?a.confirm.apply(this):a.cancel.apply(this),a.hide.apply(this)};b.put("append","body").find(".dlg-x").on("click",d),k("body").one("keydown",function(a){27===a.keyCode&&d(a),13===a.keyCode&&d(a,!0)}),a.modal||_st(function(){k("body").one("click",d)},10),W.location.hash=a.id},require:function(a,b){var c,d,e=a.split("."),g=a;g.startsWith("/")||(g="/"+g),e=e[e.length-1].toLowerCase(),"css"===e?(c="href",d="link"):(c="src",d="script");var h=function(a){a&&a.target&&(k.src[g]=1),_isF(b)&&b.apply()},f=k(d+"["+c+"=\""+a+"\"]");if(!f.sel||0===f.sel.length){let b=D.createElement(d);b.onload=h,b[c]=a,"link"===d&&(b.rel="stylesheet"),k.src[g]=0,k(b).put("append","head")}else{var i=function(){1===k.src[g]?h():_st(i,10)};_st(i,10)}},instantiate:function(name,...a){var c=eval(name);return new c(...a)}}),k.ready(()=>{k.require("/css/core.css"),k("[data-c-plugin]").each(function(a){var b=k(a);b.attr("data-c-plugin").trim().split(" ").forEach(a=>{var c="/js/c-plugins/"+k.c2d(a)+".js";k.require(c,function(){b.data("c-plugin-"+a,k.instantiate(a,k,b))})})})}),k.fn.init.prototype=k.fn,k}()})(window,document);